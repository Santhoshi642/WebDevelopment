{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\sahanadi\\\\Desktop\\\\class\\\\info6250\\\\student--sahanadarsh\\\\work\\\\react-chat\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import errorMessages from'./error-messages';import{fetchSendMessage}from'./services';var SendMessage=function SendMessage(_ref){var onRefresh=_ref.onRefresh;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var performAction=function performAction(){if(!message){setError(errorMessages.MESSAGE_REQUIRED);return;}setError('');fetchSendMessage(message).then(function(messages,users){setMessage('');onRefresh(messages,users);}).catch(function(err){setMessage('');setError(errorMessages[err.code||'DEFAULT']);});};return/*#__PURE__*/React.createElement(\"div\",{className:\"send-message\"},/*#__PURE__*/React.createElement(\"p\",{className:\"error\"},error),/*#__PURE__*/React.createElement(\"input\",{className:\"to-send-text\",value:message,onChange:function onChange(e){return setMessage(e.target.value);}}),/*#__PURE__*/React.createElement(\"button\",{className:\"send-message-button\",onClick:performAction},\"Send\"));};export default SendMessage;","map":{"version":3,"sources":["C:/Users/sahanadi/Desktop/class/info6250/student--sahanadarsh/work/react-chat/src/SendMessage.jsx"],"names":["React","useState","errorMessages","fetchSendMessage","SendMessage","onRefresh","message","setMessage","error","setError","performAction","MESSAGE_REQUIRED","then","messages","users","catch","err","code","e","target","value"],"mappings":"iNAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,aAAP,KAA0B,kBAA1B,CACA,OAASC,gBAAT,KAAiC,YAAjC,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAAkB,IAAhBC,CAAAA,SAAgB,MAAhBA,SAAgB,eAENJ,QAAQ,CAAC,EAAD,CAFF,wCAE7BK,OAF6B,eAEpBC,UAFoB,8BAGVN,QAAQ,CAAC,EAAD,CAHE,yCAG7BO,KAH6B,eAGtBC,QAHsB,eAKpC,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1B,GAAG,CAACJ,OAAJ,CAAa,CACXG,QAAQ,CAACP,aAAa,CAACS,gBAAf,CAAR,CACA,OACD,CACDF,QAAQ,CAAC,EAAD,CAAR,CACAN,gBAAgB,CAACG,OAAD,CAAhB,CACCM,IADD,CACO,SAACC,QAAD,CAAUC,KAAV,CAAoB,CACzBP,UAAU,CAAC,EAAD,CAAV,CACAF,SAAS,CAACQ,QAAD,CAAUC,KAAV,CAAT,CACD,CAJD,EAKCC,KALD,CAKQ,SAACC,GAAD,CAAS,CACfT,UAAU,CAAC,EAAD,CAAV,CACAE,QAAQ,CAACP,aAAa,CAACc,GAAG,CAACC,IAAJ,EAAY,SAAb,CAAd,CAAR,CACD,CARD,EASD,CAfD,CAiBA,mBACE,2BAAK,SAAS,CAAC,cAAf,eACE,yBAAG,SAAS,CAAC,OAAb,EAAsBT,KAAtB,CADF,cAEE,6BAAO,SAAS,CAAC,cAAjB,CAAgC,KAAK,CAAEF,OAAvC,CAAgD,QAAQ,CAAG,kBAACY,CAAD,QAAOX,CAAAA,UAAU,CAACW,CAAC,CAACC,MAAF,CAASC,KAAV,CAAjB,EAA3D,EAFF,cAGE,8BAAQ,SAAS,CAAC,qBAAlB,CAAwC,OAAO,CAAGV,aAAlD,SAHF,CADF,CAQD,CA9BD,CA+BA,cAAeN,CAAAA,WAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport errorMessages from './error-messages';\r\nimport { fetchSendMessage } from './services';\r\n\r\nconst SendMessage = ({onRefresh }) => {\r\n\r\n  const [message, setMessage] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  const performAction = () => {\r\n    if(!message) {\r\n      setError(errorMessages.MESSAGE_REQUIRED);\r\n      return;\r\n    }\r\n    setError('');\r\n    fetchSendMessage(message)\r\n    .then( (messages,users) => {\r\n      setMessage('');\r\n      onRefresh(messages,users);\r\n    })\r\n    .catch( (err) => {\r\n      setMessage('');\r\n      setError(errorMessages[err.code || 'DEFAULT']);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"send-message\">\r\n      <p className=\"error\">{error}</p>\r\n      <input className=\"to-send-text\" value={message} onChange={ (e) => setMessage(e.target.value) }/>\r\n      <button className=\"send-message-button\" onClick={ performAction }>Send</button>\r\n    </div>\r\n  );\r\n\r\n}\r\nexport default SendMessage\r\n"]},"metadata":{},"sourceType":"module"}