{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\sahanadi\\\\Desktop\\\\class\\\\info6250\\\\student--sahanadarsh\\\\work\\\\react-chat\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import errorMessages from'./error-messages';import{fetchSendMessage}from'./services';var SendMessage=function SendMessage(_ref){var onRefresh=_ref.onRefresh;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];// const [error, setError] = useState('');\nvar performAction=function performAction(){// if(!message) {\n//   setError(errorMessages.MESSAGE_REQUIRED);\n//   return;\n// }\n// setError('');\nfetchSendMessage(message).then(function(usersMessagesList){setMessage('');onRefresh(usersMessagesList.messagesList,usersMessagesList.usersList,'');}).catch(function(err){setMessage('');// setError(errorMessages[err.code || 'DEFAULT']);\nonRefresh([],{},errorMessages[err.code||'DEFAULT']);});};return/*#__PURE__*/React.createElement(\"div\",{className:\"send-message\"},/*#__PURE__*/React.createElement(\"input\",{className:\"to-send-text\",value:message,onChange:function onChange(e){return setMessage(e.target.value);}}),/*#__PURE__*/React.createElement(\"button\",{className:\"send-message-button\",onClick:performAction},\"Send\"));};export default SendMessage;","map":{"version":3,"sources":["C:/Users/sahanadi/Desktop/class/info6250/student--sahanadarsh/work/react-chat/src/SendMessage.jsx"],"names":["React","useState","errorMessages","fetchSendMessage","SendMessage","onRefresh","message","setMessage","performAction","then","usersMessagesList","messagesList","usersList","catch","err","code","e","target","value"],"mappings":"iNAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,aAAP,KAA0B,kBAA1B,CACA,OAASC,gBAAT,KAAiC,YAAjC,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAAkB,IAAhBC,CAAAA,SAAgB,MAAhBA,SAAgB,eAENJ,QAAQ,CAAC,EAAD,CAFF,wCAE7BK,OAF6B,eAEpBC,UAFoB,eAGpC;AAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1B;AACA;AACA;AACA;AACA;AACAL,gBAAgB,CAACG,OAAD,CAAhB,CACCG,IADD,CACO,SAACC,iBAAD,CAAuB,CAC5BH,UAAU,CAAC,EAAD,CAAV,CACAF,SAAS,CAACK,iBAAiB,CAACC,YAAnB,CAAiCD,iBAAiB,CAACE,SAAnD,CAA8D,EAA9D,CAAT,CACD,CAJD,EAKCC,KALD,CAKQ,SAACC,GAAD,CAAS,CACfP,UAAU,CAAC,EAAD,CAAV,CACA;AACAF,SAAS,CAAC,EAAD,CAAK,EAAL,CAAUH,aAAa,CAACY,GAAG,CAACC,IAAJ,EAAY,SAAb,CAAvB,CAAT,CACD,CATD,EAUD,CAhBD,CAkBA,mBACE,2BAAK,SAAS,CAAC,cAAf,eAEE,6BAAO,SAAS,CAAC,cAAjB,CAAgC,KAAK,CAAET,OAAvC,CAAgD,QAAQ,CAAG,kBAACU,CAAD,QAAOT,CAAAA,UAAU,CAACS,CAAC,CAACC,MAAF,CAASC,KAAV,CAAjB,EAA3D,EAFF,cAGE,8BAAQ,SAAS,CAAC,qBAAlB,CAAwC,OAAO,CAAGV,aAAlD,SAHF,CADF,CAQD,CA/BD,CAgCA,cAAeJ,CAAAA,WAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport errorMessages from './error-messages';\r\nimport { fetchSendMessage } from './services';\r\n\r\nconst SendMessage = ({onRefresh }) => {\r\n\r\n  const [message, setMessage] = useState('');\r\n  // const [error, setError] = useState('');\r\n\r\n  const performAction = () => {\r\n    // if(!message) {\r\n    //   setError(errorMessages.MESSAGE_REQUIRED);\r\n    //   return;\r\n    // }\r\n    // setError('');\r\n    fetchSendMessage(message)\r\n    .then( (usersMessagesList) => {\r\n      setMessage('');\r\n      onRefresh(usersMessagesList.messagesList, usersMessagesList.usersList, '');\r\n    })\r\n    .catch( (err) => {\r\n      setMessage('');\r\n      // setError(errorMessages[err.code || 'DEFAULT']);\r\n      onRefresh([], {}, (errorMessages[err.code || 'DEFAULT']));\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"send-message\">\r\n      {/* <p className=\"error\">{error}</p> */}\r\n      <input className=\"to-send-text\" value={message} onChange={ (e) => setMessage(e.target.value) }/>\r\n      <button className=\"send-message-button\" onClick={ performAction }>Send</button>\r\n    </div>\r\n  );\r\n\r\n}\r\nexport default SendMessage\r\n"]},"metadata":{},"sourceType":"module"}